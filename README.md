> [리팩토링 진행했습니다. 클릭하시면 리팩토링 레포지토리로 이동합니다!](https://github.com/devyouth94/gomgom-refactoring)

<p align="center">
  <img width="500" src="https://user-images.githubusercontent.com/97172050/195974981-153e87c6-4f4c-4483-b7b0-61ca366e2802.png">
</p>

# 🐻같이 고민해요, 곰곰

혼자 선택하기 어려운 고민, 익명으로 나누고 싶은 고민이 있다면 ‘곰곰’에서 함께 고민해드립니다!<br><br>
<img width="1080" src="https://user-images.githubusercontent.com/107025988/193507282-9ab12908-9fca-4e38-9214-03b2e73da287.png">

## 👉 [곰곰 둘러보기](https://www.gomgom.site)

<br>

### 👉 [곰곰 노션](https://www.notion.so/c8bbb8119d4a46e996c2806e41e2be4c)

---

<br>

# 🎆 프로젝트 소개

<br>

### 💻 Front-end

[GitHub](https://github.com/E-01-noWorry/Frontend)
<br>

### 💻 Back-end

[GitHub](https://github.com/E-01-noWorry/Backend)
<br><br>

---

<br>

### 곰곰 주요 기능

- **회원가입 및 로그인 🤝** <br>

  - 일반 로그인 및 카카오/구글 로그인을 통해 간편한 로그인 가능
  - 닉네임 설정을 통해 익명으로 대화 가능

- **고민 투표 📑✏️✅**<br>

  - 선택의 어려움을 겪고 있는 고민에 대한 투표글을 작성하여 다른 유저의 의견 확인
  - 2~4개의 선택지를 작성할 수 있고, 선택적으로 이미지 첨부 가능
  - 투표 종료 시간을 설정하고, 설정한 시간만큼 투표를 받을 수 있음
  - 투표 및 댓글/대댓글을 통해 간단한 소통 가능
  - 고민 제목 및 선택지 내용 검색으로 투표글 조회 가능
  - 인기순 / 진행중인 투표/ 카테고리 별로 투표글을 필터링 조회 가능
  - 투표글 작성 시 3점 / 투표 참여 1회당 1점 / 글 마감시 최다 투표 결과와 본인 투표가 일치할 시 5점의 포인트 획득

- **고민 상담 💬**<br>
  - 익명으로 실시간 소통하며 고민에 대한 다른 유저의 의견 확인
  - 상담방 제목 및 해시태그 내용 검색으로 상담방 조회 가능
  - 상담방 목록에서 자신이 참여중인 상담방 확인 가능
  - 비매너 유저를 내보낼 수 있는 강퇴 기능(강퇴 당한 유저는 재입장 불가능)
  - 고민해결에 도움을 준 유저 추천 기능
  - 상담방 생성 시 3점 / 상담방 방장의 추천을 받을 시 5점의 포인트 획득
- **곰곰해답 📖**<br>
  - 고민 및 선택에 대한 간단한 해답을 곰곰이가 유저에게 전달
- **마이페이지 👤 📖**<br>
  - 서비스를 사용하며 누적된 포인트 확인 및 등급별 프로필 확인 가능
  - 내가 작성한 고민 투표 및 고민 상담방 / 내가 참여한 고민 투표 및 고민 상담방 조회 가능
  - 곰곰 개발자들에게 문의 및 건의사항을 보낼 수 있는 1:1 문의 기능
  - 닉네임 변경 기능으로 익명성 보장
  - 개인 정보 삭제가 가능한 회원 탈퇴 기능
- **푸시알림 🔔**<br>
  - 웹, 안드로이드 환경 알림허용 후 백그라운드 환경일때 푸시알림 전송(ios 지원 불가)
  - 댓글, 대댓글 생성시 푸시알림
  - 고민투표글 누적 투표 3배수 시 푸시알림
  - 내가 만든 상담방 새로운 채팅시 푸시알림

<br>

---

<br>

### 🎬 기능 구현 영상

<br>

#### 👉 [보러가기](https://youtu.be/3XpgmLfkcyQ)

<br>

---

<br>

## 🧰Front-end 기술 Tools 소개

<img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=black"/>&nbsp;
<img src="https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=React&logoColor=black"/>&nbsp;
<img src="https://img.shields.io/badge/Redux Toolkit-764ABC?style=for-the-badge&logo=Redux&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/React Router-CA4245?style=for-the-badge&logo=React Router&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/styled-components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white"/>&nbsp;
<br>

<img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Socket.io-010101?style=for-the-badge&logo=Socket.io&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/FCM-FFCA28?style=for-the-badge&logo=Firebase&logoColor=black"/>&nbsp;
<br>

<img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/GitHub Actions-2088FF?style=for-the-badge&logo=GitHub Actions&logoColor=white"/>&nbsp;
<br>

<img src="https://img.shields.io/badge/Amazon S3-569A31?style=for-the-badge&logo=Amazon S3&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Amazon CloudFront-232F3E?style=for-the-badge&logo=Amazon AWS&logoColor=white"/>&nbsp;
<img src="https://img.shields.io/badge/Amazon Route53-232F3E?style=for-the-badge&logo=Amazon AWS&logoColor=white"/>&nbsp;
<br>

<br>

---

<br>

## ⚙️ Architecture

<br>

![아키텍쳐](https://user-images.githubusercontent.com/107025988/193801322-f95faa04-f107-4354-9df0-0453ce9ea166.png)

<br>

---

<br>

## 🔧 기술적 의사결정

| 사용 기술                           | 기술 결정 이유                                                                                                                                                                                                                                                                                                                                 |
| ----------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `socket.io`                         | socket.io vs WebSocket<br><br>socket.io는 room 개념을 이용해 각각의 채팅방을 개설하여 방에 입장한 유저들끼리 통신을 주고 받을 수 있도록 https를 이용한 실시간 데이터 통신이 가능한 socket.io 사용을 결정했습니다                                                                                                                               |
| `FCM`                               | 자신의 선택글, 상담방 등에 다른 유저의 상호작용 발생 시 실시간 푸시알림을 보내주어 활발한 사이트 이용을 유도했습니다.                                                                                                                                                                                                                          |
| `PWA`                               | 웹앱 설치를 유도하여 재사용성 증가, 백그라운드 푸시 알림 등을 구현하기 위해 도입하였습니다.                                                                                                                                                                                                                                                    |
| `Redux toolkit`                     | Redux Toolkit vs Recoil<br><br>전역 상태를 효율적으로 관리 하기 위해 라이브러리를 도입하였습니다.<br>사용자가 많아 오픈소스 양이 많은 redux로 채택했습니다.<br>그 중에서도 redux 패키지 설치가 용이하고, 보일러 플레이트가 훨씬 줄어든 redux-toolkit으로 결정했습니다.                                                                         |
| `Axios`                             | Axios vs JS Fetch API<br><br>response timeout (fetch에는 없는 기능) 처리 방법이 존재<br>Promise 기반으로 만들어졌기 때문에 데이터를 다루기 편리합니다.<br>브라우저 호환이 fetch보다 뛰어나기 때문에 웹 앱을 염두한 곰곰 서비스에 적합하다고 생각했습니다.                                                                                      |
| `Styled components`                 | CSS-in-JS vs CSS-in-CSS<br><br>css를 파일 분리 없이 유지 보수 할 수 있는점이 장점이라 생각했습니다.<br>props나 state에 따른 동적 스타일링이 가능합니다.<br>그 중 점유율이 높은 styled components를 사용하기로 결정했습니다.                                                                                                                    |
| `S3`<br>`Cloud Front`<br>`Route 53` | vs Vercel<br><br>배포가 간편한 vercel을 사용할까 고민했지만, aws의 배포 플랫폼들을 경험해보고 싶었습니다.                                                                                                                                                                                                                                      |
| `Github actions`                    | 프론트엔드와 백엔드의 효율적인 협업을 위해, 자동배포를 진행하였습니다.                                                                                                                                                                                                                                                                         |

<br>

---

<br>

## 🔥트러블슈팅
<details>
<summary> 카카오 소셜로그인 </summary>
<br>

❓ 문제

- 서버에서 보내는 카카오 로그인 정보가 프론트에서 보여지긴 하지만, 데이터에 접근할 수 없는 문제가 발생함
- 프론트에서 redirect_uri를 서버 쪽으로 맞추면 프론트에서 데이터에 접근이 되지 않았고, 프론트 로컬 서버로 맞추면 redirect_uri mis match 에러가 발생함

❗️ 해결

- Kakao Developers의 문서를 읽어보면서 문제를 해결하려 했으나 이해하기가 어려워 CORS, KOE에러 (특히 006, redirect관련 오류) 등을 Kakao Developers 포럼에 문의를 하여 답변을 받고, 포럼 내 게시글 검색을 통하여 여러 자료들을 참고함
- redirect_uri mismatch는 카카오로그인 애플리케이션에 redirect_uri를 추가하고, 프론트와 서버의 redirect_uri를 합치시켜서 해결하였음
  ![](https://user-images.githubusercontent.com/107025988/193506725-96668b13-3f76-42c1-850c-d17a24337e8a.png)
- 서버에서 .env에 작성해두었던 callback_url을 프론트 서버로 수정하였고, 프론트에서도 데이터를 받아온 후 메인페이지로 이동하도록 코드를 작성하고, 로그인 데이터를 받아오는 코드도 수정하였습니다.
- 서버에서는 callback_url을 서버 쪽으로 작성하고 있었기 때문에 프론트에서 데이터 접근이 불가능했었고, 프론트에서는 window.location.replace(’/’) 코드가 중복되어 무한 로딩에 걸리는 문제를 확인하여 해결하였습니다.
</details>

<br>

[자동 로그인 연장 / 자동 로그아웃 구현하기](https://velog.io/@devyouth94/%EC%9E%90%EB%8F%99-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%97%B0%EC%9E%A5-%EC%9E%90%EB%8F%99-%EB%A1%9C%EA%B7%B8%EC%95%84%EC%9B%83-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0)

<br>

[모바일에서 100vh 적용하기](https://velog.io/@devyouth94/react-%EB%AA%A8%EB%B0%94%EC%9D%BC%EC%97%90%EC%84%9C-100vh-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0)

<br>

[실시간 채팅 UX최적화를 위한 여정 (스크롤 관련)](https://velog.io/@devyouth94/react-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%B1%84%ED%8C%85-UX%EC%B5%9C%EC%A0%81%ED%99%94%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%97%AC%EC%A0%95-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EA%B4%80%EB%A0%A8) 

<br>

[이미지 리사이징을 해보자!! + 이미지 미리보기](https://velog.io/@devyouth94/react-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A6%AC%EC%82%AC%EC%9D%B4%EC%A7%95%EC%9D%84-%ED%95%B4%EB%B3%B4%EC%9E%90-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%AF%B8%EB%A6%AC%EB%B3%B4%EA%B8%B0)

<br>

---

<br>

### 📝유저 피드백

<details>
<summary> ✒️유저 테스트 피드백(10.03 기준)✒️ </summary>
<br>

- 사용자 피드백 응답 106개<br>
- 신규 회원 약 230명<br>
- 생성된 게시물 약 70개<br>
- 참여한 투표 수 약 600개<br>
- 작성한 댓글/대댓글 약 170개<br>
- 생성된 채팅방 약 20개<br>
- 채팅방 참가 약 230명<br>
- 주고받은 채팅 630개
</details>

<br>

<details>
<summary>  ⛳유저 피드백 반영⛳ </summary>
<br>
 
  - UI 개선
    - 고민투표글 검색 및 진행중인 투표 필터 기능 추가
    - 상담방 UI 대폭 수정(상담방 입장모달 추가, 참여중인 상담방 목록에서 확인 가능, 현재 상담방 참여한 인원 확인 가능 등)
    - 최상단 이동 버튼 추가
  - 채팅방 강퇴기능 추가(강퇴시 재입장 불가능)
  - 카카오 소셜로그인 시 닉네임 설정 화면으로 이동 추가
  - 회원 탈퇴기능 추가

</details>
<br>

#### 설문 링크 : https://forms.gle/MANwTgdAr3H2UC2s5

<br>

---

<br>

## 👥 팀원소개

| 역할   | 이름   | github                                   |
| ------ | ------ | ---------------------------------------- |
| BE🔰   | 시진엽 | [GitHub](https://github.com/Edward-SI03) |
| BE     | 김대린 | [GitHub](https://github.com/kimdaerin)   |
| BE     | 조은지 | [GitHub](https://github.com/JJooonji)    |
| FE🔰   | 김영진 | [GitHub](https://github.com/devyouth94)  |
| FE     | 김윤철 | [GitHub](https://github.com/Aaron-Kim33) |
| Design | 김민수 | 디자인 담당                              |

<br>
